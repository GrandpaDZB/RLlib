import numpy as np
import numpy as np
import matplotlib.pyplot as plt
from matplotlib import cm
from matplotlib.colors import ListedColormap, LinearSegmentedColormap


data = np.array([[0.237323731366336,-0.0443849677817030,-0.0609573180569563,-0.0553902035880502,-0.0399969146551839,-0.0145968000577815,-0.000793458871415265,-0.000167577227106813,-0.0155596517652446,-2.01034667361536e-06,-4.24399929336585e-05,-0.00261548066943415,-1.49936559654503e-05,-0.000319363996584329,-0.00248255070130556],[-0.0443849677817030,2.26098509037996,-0.760948662854378,-0.247207059218127,-0.519424267369168,-0.108279335276504,-0.0568890596251887,-0.189524220745341,-0.184757917712982,-0.0406921063165066,-0.0197899786623119,-0.00364604364210640,-0.0837778291044204,-0.00174545466407509,8.18125928535550e-05],[-0.0609573180569563,-0.760948662854378,2.15329945558521,-0.177246958324929,-0.373724421586098,-0.237232305240548,-0.131754568486112,-0.00781798926274452,7.31838257833798e-05,-0.114745346732792,-0.0484813262083487,-0.0308216003843855,-0.120863506621117,-0.0576992409474344,-0.0310793947051438],[-0.0553902035880502,-0.247207059218127,-0.177246958324929,2.08395365350961,-0.471508968905902,-0.00706083915072919,-6.40338078296263e-07,-0.576309358969634,-0.484821924630676,1.01208023334014e-06,-0.00291847470150366,-0.0364042697209920,-0.0262262271311875,0.00235380746917316,-0.00121354837921473],[-0.0399969146551839,-0.519424267369168,-0.373724421586098,-0.471508968905902,2.36790430522947,-0.363636110669157,-0.00133817871219576,-0.226302682996499,-0.141085472720531,-0.0788083216259951,-0.00459413641060193,-0.0239637165818839,-0.0684219679774791,-0.0551000270234859,8.82004708894373e-07],[-0.0145968000577815,-0.108279335276504,-0.237232305240548,-0.00706083915072918,-0.363636110669157,2.32169501316878,-0.956607039656607,-4.53162797759871e-07,3.90409944641638e-06,2.25978223306685e-05,-0.0311218321863040,-0.0766331984756520,-0.0781077780150679,-0.445892544834123,-0.00255327836528435],[-0.000793458871415260,-0.0568890596251887,-0.131754568486112,-6.40338078353867e-07,-0.00133817871219582,-0.956607039656607,1.87356705987644,-0.0284661514356544,3.13467107948387e-07,-1.21771453967717e-06,0.000492234713734102,-0.0783898977018252,-0.0629767334187572,-0.565215849824765,0.00837318772786233],[-0.000167577227106802,-0.189524220745341,-0.00781798926274455,-0.576309358969634,-0.226302682996499,-4.53162797817978e-07,-0.0284661514356544,1.44467370306211,-0.122104514168290,-0.0137843172380685,-0.112811975618010,-0.166852518551873,0.000168086961143068,8.46872576602761e-08,-0.000700115334492362],[-0.0155596517652446,-0.184757917712982,7.31838257834164e-05,-0.484821924630676,-0.141085472720531,3.90409944641535e-06,3.13467107937732e-07,-0.122104514168290,1.57008249329061,-0.518276264482262,-0.0969740086406985,-0.00341692261987308,-0.00422182241284306,-0.00259843520902917,0.00365703967948299],[-2.01034667361878e-06,-0.0406921063165066,-0.114745346732792,1.01208023333663e-06,-0.0788083216259951,2.25978223306779e-05,-1.21771453967854e-06,-0.0137843172380686,-0.518276264482262,1.24796753109565,-0.468627361587643,-0.00950277534121970,1.23271120912262e-05,0.000240669927609077,-0.00380441665221124],[-4.24399929336588e-05,-0.0197899786623119,-0.0484813262083487,-0.00291847470150364,-0.00459413641060193,-0.0311218321863040,0.000492234713734096,-0.112811975618010,-0.0969740086406985,-0.468627361587643,1.22488347014296,-0.438638866060073,-0.00137523869529710,-3.70523608929339e-07,3.04430636872268e-07],[-0.00261548066943416,-0.00364604364210640,-0.0308216003843855,-0.0364042697209920,-0.0239637165818839,-0.0766331984756520,-0.0783898977018252,-0.166852518551873,-0.00341692261987311,-0.00950277534121969,-0.438638866060073,1.17794443659142,-0.306994412623756,-6.51862592591236e-05,4.52040917689784e-07],[-1.49936559654533e-05,-0.0837778291044204,-0.120863506621117,-0.0262262271311875,-0.0684219679774791,-0.0781077780150679,-0.0629767334187572,0.000168086961143087,-0.00422182241284308,1.23271120911535e-05,-0.00137523869529713,-0.306994412623756,1.10327311573587,-0.350474969284205,1.94913099473307e-06],[-0.000319363996584325,-0.00174545466407509,-0.0576992409474344,0.00235380746917316,-0.0551000270234859,-0.445892544834123,-0.565215849824764,8.46872576483404e-08,-0.00259843520902916,0.000240669927609048,-3.70523608939277e-07,-6.51862592591621e-05,-0.350474969284205,1.63924635764129,-0.162729477158766],[-0.00248255070130556,8.18125928535499e-05,-0.0310793947051438,-0.00121354837921473,8.82004708889571e-07,-0.00255327836528436,0.00837318772786233,-0.000700115334492363,0.00365703967948299,-0.00380441665221123,3.04430636878369e-07,4.52040917685580e-07,1.94913099472960e-06,-0.162729477158766,0.192447153688961]])


def str_p(a):
    a = "[" + a.replace(";","],[") + "]"
    


def plot_examples(cms, data):
    """
    helper function to plot two colormaps
    """

    fig, axs = plt.subplots(1, 1, 
        figsize=(3, 2.2), 
        constrained_layout=True, 
        dpi=600
    )
    
    data_max = np.max(data)
    axs.invert_yaxis()
    psm = axs.pcolormesh(data, cmap=cms, rasterized=True, vmin=-data_max, vmax=data_max)
    fig.colorbar(psm, ax=axs)
    plt.show()


# top = cm.get_cmap('Blues_r', 256)
# bottom = cm.get_cmap('pink', 256)

# newcolors = np.vstack((top(np.linspace(0, 1, 256)),
#                        bottom(np.linspace(0, 1, 256))))

newcolors = cm.get_cmap('RdBu_r', 512)(np.linspace(0, 1, 512))
newcmp = ListedColormap(newcolors, name='OrangeBlue')
plot_examples(newcmp, data)